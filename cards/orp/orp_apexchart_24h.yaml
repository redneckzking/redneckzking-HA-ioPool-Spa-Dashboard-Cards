type: custom:apexcharts-card
header:
  show: true
  title: âš¡ ioPool ORP (24h)
  show_states: true
  colorize_states: true
  standard_format: false
graph_span: 24h
span:
  end: minute
update_interval: 5min
cache: true
now:
  show: true
  label: Now
apex_config:
  chart:
    height: 280
    toolbar:
      show: false
    zoom:
      enabled: false
  legend:
    show: false
  stroke:
    curve: smooth
    lineCap: round
  dataLabels:
    enabled: false
  grid:
    strokeDashArray: 3
    padding:
      left: 6
      right: 6
      top: 4
      bottom: 0
  tooltip:
    shared: false
    intersect: false
    x:
      format: ddd h:mm TT
  xaxis:
    labels:
      datetimeUTC: false
  yaxis:
    decimalsInFloat: 0
    title:
      text: mV
  annotations:
    yaxis:
      - "y": 0
        y2: 550
        borderColor: "#EF5350"
        fillColor: "#EF5350"
        opacity: 0.05
      - "y": 550
        y2: 650
        borderColor: "#FFD54F"
        fillColor: "#FFD54F"
        opacity: 0.05
      - "y": 650
        y2: 800
        borderColor: "#66BB6A"
        fillColor: "#66BB6A"
        opacity: 0.05
      - "y": 800
        y2: 1000
        borderColor: "#FFD54F"
        fillColor: "#FFD54F"
        opacity: 0.05
      - "y": 1000
        borderColor: "#EF5350"
        strokeDashArray: 4
yaxis:
  - min: auto
    max: auto
    decimals: 0
    apex_config:
      tickAmount: 6
      labels:
        formatter: |
          EVAL:function(value) { return Math.round(value) + " mV"; }
series:
  - entity: sensor.iopool_saluspa_bahama_orp
    name: ORP
    type: line
    color: "#AB47BC"
    stroke_width: 2.5
    curve: smooth
    opacity: 1
    extend_to: false
    float_precision: 0
    unit: mV
    group_by:
      func: avg
      duration: 10min
    transform: "return x === null ? null : Number(x);"
    show:
      in_header: raw

